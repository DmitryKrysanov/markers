<main class="main">
  <!-- <mat-toolbar> </mat-toolbar> -->

  <section class="content">
    <button
      class="filter-btn"
      mat-fab
      aria-label="Відкрити фільтр"
      (click)="onFilterToggle()"
    >
      @if(isFilterExists()) {

      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
        fill="#434840"
      >
        <path
          d="M440-160q-17 0-28.5-11.5T400-200v-240L168-736q-15-20-4.5-42t36.5-22h560q26 0 36.5 22t-4.5 42L560-440v240q0 17-11.5 28.5T520-160h-80Zm40-308 198-252H282l198 252Zm0 0Z"
        />
      </svg>
      } @else {
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
        fill="#434840"
      >
        <path
          d="M440-160q-17 0-28.5-11.5T400-200v-240L168-736q-15-20-4.5-42t36.5-22h560q26 0 36.5 22t-4.5 42L560-440v240q0 17-11.5 28.5T520-160h-80Z"
        />
      </svg>
      }
    </button>

    @if(isShowFilter()) {
    <app-filter
      class="filter"
      [(filter)]="filter"
      (closeChanges)="onFilterToggle()"
    />
    } @if(selectedGroup()) {
    <app-group-details
      class="group-details"
      [(group)]="selectedGroup"
      (closeChanges)="onCloseGroupDetails()"
    />
    }

    <div class="map">
      <app-map [(selectedGroup)]="selectedGroup" [filter]="filter()" />
    </div>
  </section>
</main>
